<div class="container-fluid col-md-8 col-md-offset-2">
    <div class="page-header">
        <div class="row">
            <div class="col-md-6">
                <h3> {{post.title}} </h3>
            </div>
            <div class="col-md-6 text-right">
                <form ng-submit="deletePost()" ng-show="userMatch()">
                    <button type="submit" class="btn btn-danger btn-sm">Delete post</button>
                    <a href='#/view' class="btn btn-link">Go back</a>
                </form>
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-6">
                <h4>{{post.leftSubCat}}</h4>
                <div id="nodeGraph" class="leftGraph"></div>
            </div>
            <div class="col-md-6">
                <h4>{{post.rightSubCat}}</h4>
                <div id="compareNodeGraph" class="rightGraph"></div>
            </div>
        </div>

        <hr/>

    </div>

    <div ng-repeat="comment in post.comments | orderBy:'-time'">
        <div class="row">
            <div class="col-md-10">
                <span class="text-info">{{comment.author}}</span>
                <span class="text-muted small">[{{getTimeDiff(comment)}}]</span>
                <span style="margin-left:5px;">
                    {{comment.body}}
                </span>

            </div>
            <div class="col-md-2 text-right">
                <i ng-show="userMatchComment(comment)" ng-click="deleteComment(comment)" class="material-icons">delete</i>
            </div>
        </div>
    </div>

    <hr/>

    <form ng-submit="addComment()" ng-show="isLoggedIn()" style="margin-top:30px;">
        <div class="row">
            <div class="col-md-10">
                <span class="form-group">
                    <input type="text"
                           class="form-control"
                           placeholder="Add a new comment"
                           ng-model="body">
                </span>
            </div>
            <div class="col-md-2 text-right">
                <button type="submit" class="btn btn-primary">Post</button>
            </div>
        </div>
    </form>

    <div ng-hide="isLoggedIn()">
        <h5>Please kindly login before adding a comment</h5>
    </div>
</div>
